<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Detalhes</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<body>
<div class="container">
    <div class="row mt-5">
        <h1>Detalhes</h1>
    </div>
    <div class="row mt-5">
        <h1>#<span th:text="${equipamento.id}"></span> - <span th:text="${equipamento.nome}"></span></h1>
    </div>
    <ul class="mt-4">
        <li><strong>Codigo SAP:</strong> <span th:text="${equipamento.codigoSAP}"></span></li>
        <li><strong>Tipo:</strong> <span th:text="${equipamento.tipo.nome}"></span></li>
        <li><strong>Descricao:</strong> <span th:text="${equipamento.descricao}"></span></li>
        <li><strong>Unidade de Medida:</strong> <span th:text="${equipamento.unidadeDeMedida}"></span></li>
    </ul>
    <div class="row mt-5">
        <h1>Historico</h1>
    </div>
    <div class="row mt-5">
        <table class="table border rounded">
            <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Data</th>
                <th scope="col">Status</th>
                <th scope="col">Responsavel</th>
                <th scope="col">Zona</th>
                <th scope="col">Qtd</th>
                <th scope="col">Obs</th>
            </tr>
            </thead>
            <tbody>
            <div  th:each="movimentacao : ${equipamento.movimentacoes}">
                <tr>
                    <td th:text="${movimentacao.id}"></th>
                    <td th:text="${movimentacao.dataEntrada}"></th>
                    <td th:text="${movimentacao.status}"></th>
                    <td th:text="${movimentacao.responsavel.nome}"></th>
                    <td th:text="${movimentacao.zona.nome}"></th>
                    <td th:text="${movimentacao.quantidade}"></th>
                    <td th:text="${movimentacao.obs}"></th>
                    <td><a th:href="@{/movimentacoes/{movimentacaoId}/delete(movimentacaoId = ${movimentacao.id})}">Excluir</a></td>
                </tr>
            </div>
            </tbody>
        </table>
    </div>

    <div class="row mt-5 d-flex justify-content-center">
        <form class="border p-5 rounded rounded-3 ml-5 mt-5" th:action="@{/movimentacoes/{equipamentoId}/create(equipamentoId = ${equipamento.id})}" method="post">
            <h1>Nova Movimentacao</h1>

            <div class="form-group">
                <label for="zona">Zona</label>
                <select name="zona" id="zona">
                    <option th:each="zona : ${zonas}"  th:value="${zona.id}" th:text="${zona.nome}"></option>
                </select>
            </div>
            <div class="form-group">
                <label for="responsavel">Responsavel</label>
                <select name="responsavel" id="responsavel">
                    <option th:each="responsavel : ${responsaveis}"  th:value="${responsavel.id}" th:text="${responsavel.nome}"></option>
                </select>
            </div>
            <div class="form-group">
                <label for="status">Status</label>
                <select name="status" id="status">
                    <option th:each="status : ${movimentacaoStatus}"  th:value="${status}" th:text="${status}"></option>
                </select>
            </div>
            <div class="form-group">
                <label for="quantidade">Quantidade</label>
                <input name="quantidade" type="number" class="form-control" id="quantidade" placeholder="quantidade">
            </div>
            <div class="form-group">
                <label for="obs">Obs</label>
                <textarea name="obs" class="form-control" id="obs" placeholder="obs"></textarea>
            </div>

            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>
</body>
</html>
